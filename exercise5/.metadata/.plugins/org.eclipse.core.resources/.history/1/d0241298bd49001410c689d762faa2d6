/*
 * power_bar.c
 *
 *  Created on: 2014-10-01
 *      Author: Adam
 */
#include <stdio.h>
#include <stdlib.h>
#include "system.h"
#include "altera_up_avalon_video_pixel_buffer_dma.h"
#include "altera_up_avalon_video_character_buffer_with_dma.h"
#define drawer_base (volatile int *) 0x6000 //must be base address of pixel_drawer avalon_slave
#define BACKGROUND 0x00000;

void draw_power_bar(alt_up_char_buffer_dev * char_buffer);
void update_power_bar(alt_up_pixel_buffer_dma_dev* pixel_buffer, double velocity);

void draw_power_bar(alt_up_char_buffer_dev * char_buffer){
	IOWR_32DIRECT(drawer_base,0,rand()%320);
	IOWR_32DIRECT(drawer_base,4,rand()%240);
	IOWR_32DIRECT(drawer_base,8,rand()%320);
	IOWR_32DIRECT(drawer_base,12,rand()%240);
	IOWR_32DIRECT(drawer_base,16,rand()%0x10000);
	IOWR_32DIRECT(drawer_base,20,1);
	while(IORD_32DIRECT(drawer_base,20)==0);
}

void draw_power_bar(alt_up_pixel_buffer_dma_dev* pixel_buffer, alt_up_char_buffer_dev * char_buffer){

}
